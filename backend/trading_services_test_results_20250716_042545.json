{
  "timestamp": "2025-07-16T04:25:42.368910",
  "test_summary": {
    "total_tests": 33,
    "passed": 25,
    "failed": 8,
    "errors": 0,
    "success_rate": "75.8%"
  },
  "test_categories": {
    "setup": {
      "total": 1,
      "passed": 1,
      "failed": 0
    },
    "trading_service_core": {
      "total": 4,
      "passed": 4,
      "failed": 0
    },
    "broker_integrations": {
      "total": 9,
      "passed": 7,
      "failed": 2
    },
    "order_lifecycle": {
      "total": 3,
      "passed": 2,
      "failed": 1
    },
    "portfolio_management": {
      "total": 2,
      "passed": 2,
      "failed": 0
    },
    "ai_trading_integration": {
      "total": 1,
      "passed": 0,
      "failed": 1
    },
    "risk_management": {
      "total": 1,
      "passed": 0,
      "failed": 1
    },
    "paper_trading": {
      "total": 3,
      "passed": 3,
      "failed": 0
    },
    "advanced_features": {
      "total": 2,
      "passed": 0,
      "failed": 2
    },
    "api_connections": {
      "total": 3,
      "passed": 2,
      "failed": 1
    },
    "validation_security": {
      "total": 2,
      "passed": 2,
      "failed": 0
    },
    "logging_audit": {
      "total": 2,
      "passed": 2,
      "failed": 0
    }
  },
  "detailed_results": [
    {
      "category": "setup",
      "test_name": "test_environment_setup",
      "status": "PASS",
      "message": "Test environment created successfully",
      "timestamp": "2025-07-16T04:25:42.863366"
    },
    {
      "category": "trading_service_core",
      "test_name": "service_initialization",
      "status": "PASS",
      "message": "TradingService initialized successfully",
      "timestamp": "2025-07-16T04:25:43.563276"
    },
    {
      "category": "trading_service_core",
      "test_name": "input_validation",
      "status": "PASS",
      "message": "Input validation working correctly",
      "timestamp": "2025-07-16T04:25:43.563516"
    },
    {
      "category": "trading_service_core",
      "test_name": "trade_validation_valid",
      "status": "PASS",
      "message": "Valid trade accepted",
      "timestamp": "2025-07-16T04:25:44.204643"
    },
    {
      "category": "trading_service_core",
      "test_name": "circuit_breaker_integration",
      "status": "PASS",
      "message": "Circuit breaker integrated",
      "timestamp": "2025-07-16T04:25:44.204760"
    },
    {
      "category": "broker_integrations",
      "test_name": "broker_factory_paper",
      "status": "FAIL",
      "message": "Broker factory failed: Invalid or missing credentials for alpaca",
      "timestamp": "2025-07-16T04:25:44.252967"
    },
    {
      "category": "broker_integrations",
      "test_name": "alpaca_credentials",
      "status": "FAIL",
      "message": "Alpaca credentials not configured",
      "timestamp": "2025-07-16T04:25:44.253109"
    },
    {
      "category": "broker_integrations",
      "test_name": "base_interface_execute_trade",
      "status": "PASS",
      "message": "Method execute_trade defined in base class",
      "timestamp": "2025-07-16T04:25:44.253178"
    },
    {
      "category": "broker_integrations",
      "test_name": "base_interface_get_account_info",
      "status": "PASS",
      "message": "Method get_account_info defined in base class",
      "timestamp": "2025-07-16T04:25:44.253239"
    },
    {
      "category": "broker_integrations",
      "test_name": "base_interface_get_positions",
      "status": "PASS",
      "message": "Method get_positions defined in base class",
      "timestamp": "2025-07-16T04:25:44.253296"
    },
    {
      "category": "broker_integrations",
      "test_name": "base_interface_get_trade_status",
      "status": "PASS",
      "message": "Method get_trade_status defined in base class",
      "timestamp": "2025-07-16T04:25:44.253350"
    },
    {
      "category": "broker_integrations",
      "test_name": "base_interface_cancel_trade",
      "status": "PASS",
      "message": "Method cancel_trade defined in base class",
      "timestamp": "2025-07-16T04:25:44.253404"
    },
    {
      "category": "broker_integrations",
      "test_name": "base_interface_get_order_history",
      "status": "PASS",
      "message": "Method get_order_history defined in base class",
      "timestamp": "2025-07-16T04:25:44.253461"
    },
    {
      "category": "broker_integrations",
      "test_name": "base_interface_get_trade_execution",
      "status": "PASS",
      "message": "Method get_trade_execution defined in base class",
      "timestamp": "2025-07-16T04:25:44.253515"
    },
    {
      "category": "order_lifecycle",
      "test_name": "order_placement",
      "status": "FAIL",
      "message": "Order placement failed: Failed to create trade record",
      "timestamp": "2025-07-16T04:25:44.260148"
    },
    {
      "category": "order_lifecycle",
      "test_name": "trade_history",
      "status": "PASS",
      "message": "Retrieved 0 trade records",
      "timestamp": "2025-07-16T04:25:44.264520"
    },
    {
      "category": "order_lifecycle",
      "test_name": "open_orders",
      "status": "PASS",
      "message": "Retrieved 0 open orders",
      "timestamp": "2025-07-16T04:25:44.266187"
    },
    {
      "category": "portfolio_management",
      "test_name": "portfolio_holdings_update",
      "status": "PASS",
      "message": "Portfolio holdings updated correctly",
      "timestamp": "2025-07-16T04:25:44.278079"
    },
    {
      "category": "portfolio_management",
      "test_name": "portfolio_totals",
      "status": "PASS",
      "message": "Portfolio total value: 100303.9",
      "timestamp": "2025-07-16T04:25:44.485650"
    },
    {
      "category": "ai_trading_integration",
      "test_name": "import_error",
      "status": "FAIL",
      "message": "AI trading import failed: cannot import name 'AITradingService' from 'app.services.ai_trading' (/workspaces/Elson-TB2/backend/app/services/ai_trading.py)",
      "timestamp": "2025-07-16T04:25:45.120004"
    },
    {
      "category": "risk_management",
      "test_name": "import_error",
      "status": "FAIL",
      "message": "Risk management import failed: cannot import name 'RiskManager' from 'app.services.risk_management' (/workspaces/Elson-TB2/backend/app/services/risk_management.py)",
      "timestamp": "2025-07-16T04:25:45.122795"
    },
    {
      "category": "paper_trading",
      "test_name": "paper_service_init",
      "status": "PASS",
      "message": "Paper trading service initialized",
      "timestamp": "2025-07-16T04:25:45.123622"
    },
    {
      "category": "paper_trading",
      "test_name": "paper_trade_execution",
      "status": "PASS",
      "message": "Paper trade executed with status: error",
      "timestamp": "2025-07-16T04:25:45.123933"
    },
    {
      "category": "paper_trading",
      "test_name": "execution_statistics",
      "status": "PASS",
      "message": "Retrieved execution statistics: 0 trades",
      "timestamp": "2025-07-16T04:25:45.127836"
    },
    {
      "category": "advanced_features",
      "test_name": "advanced_service_init",
      "status": "FAIL",
      "message": "Advanced service init failed: AdvancedTradingService.__init__() missing 2 required positional arguments: 'db' and 'market_data_service'",
      "timestamp": "2025-07-16T04:25:45.130278"
    },
    {
      "category": "advanced_features",
      "test_name": "strategy_integration",
      "status": "FAIL",
      "message": "Strategy integration test failed: cannot access local variable 'advanced_service' where it is not associated with a value",
      "timestamp": "2025-07-16T04:25:45.130389"
    },
    {
      "category": "api_connections",
      "test_name": "required_config",
      "status": "PASS",
      "message": "All required configurations present",
      "timestamp": "2025-07-16T04:25:45.130562"
    },
    {
      "category": "api_connections",
      "test_name": "optional_config",
      "status": "FAIL",
      "message": "Missing optional configs: ['ALPACA_API_KEY', 'ALPACA_SECRET_KEY', 'FINNHUB_API_KEY']",
      "timestamp": "2025-07-16T04:25:45.130647"
    },
    {
      "category": "api_connections",
      "test_name": "market_data_api",
      "status": "PASS",
      "message": "Market data API working: AAPL price = 209.11",
      "timestamp": "2025-07-16T04:25:45.130753"
    },
    {
      "category": "validation_security",
      "test_name": "input_sanitization",
      "status": "PASS",
      "message": "Input sanitization working correctly",
      "timestamp": "2025-07-16T04:25:45.130928"
    },
    {
      "category": "validation_security",
      "test_name": "risk_limits",
      "status": "PASS",
      "message": "Risk limits validation working",
      "timestamp": "2025-07-16T04:25:45.131089"
    },
    {
      "category": "logging_audit",
      "test_name": "logging_configuration",
      "status": "PASS",
      "message": "Structured logging configured",
      "timestamp": "2025-07-16T04:25:45.131251"
    },
    {
      "category": "logging_audit",
      "test_name": "monitoring_integration",
      "status": "PASS",
      "message": "Monitoring integration available",
      "timestamp": "2025-07-16T04:25:45.131331"
    }
  ],
  "critical_issues": [],
  "recommendations": [
    "Review broker integration configuration - check API credentials and connections",
    "Configure missing API connections for full functionality"
  ]
}