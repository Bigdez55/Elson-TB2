@tailwind base;
@tailwind components;
@tailwind utilities;

/* 
 * Accessibility-specific styles 
 * These styles support the components in the accessibility system
 */

@layer base {
  body {
    @apply bg-gray-900 text-white;
  }
}

@layer components {
  .btn {
    @apply px-4 py-2 rounded-lg font-medium transition-colors;
  }
  
  .btn-primary {
    @apply bg-primary-600 hover:bg-primary-700 text-white;
  }
  
  .btn-secondary {
    @apply bg-gray-600 hover:bg-gray-700 text-white;
  }
  
  .input {
    @apply px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500;
  }
  
  .card {
    @apply bg-gray-800 rounded-lg shadow-lg p-6;
  }
}

/* Trading specific styles */
.profit {
  @apply text-profit;
}

.loss {
  @apply text-loss;
}

/* Chart customization */
.tradingview-chart {
  @apply w-full h-[500px] bg-gray-800 rounded-lg;
}

/* ===== Accessibility Styles ===== */

/* Skip Navigation */
.skip-nav {
  @apply sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 focus:z-50 
    focus:px-4 focus:py-2 focus:bg-primary-600 focus:text-white focus:rounded-lg focus:shadow-lg;
}

/* Screen reader only (visually hidden but available to screen readers) */
.sr-only {
  @apply absolute w-px h-px p-0 -m-px overflow-hidden whitespace-nowrap border-0;
}

/* Focus outlines for keyboard users */
.user-is-tabbing *:focus {
  @apply outline-none ring-2 ring-primary-500 ring-offset-2 ring-offset-gray-900;
}

/* Focus outlines are not shown for mouse users */
*:focus:not(:focus-visible) {
  @apply outline-none ring-0;
}

/* High contrast mode */
.high-contrast {
  --contrast-bg: #000;
  --contrast-text: #fff;
  --contrast-link: #ffff00;
  --contrast-border: #fff;
  --contrast-focus: #ff0;
}

.high-contrast body {
  @apply bg-black text-white border-white;
}

.high-contrast button,
.high-contrast a {
  @apply bg-black text-yellow-300 border-2 border-white;
}

/* Text size adjustments */
.text-size-default {
  font-size: 100%;
}

.text-size-large {
  font-size: 125%;
}

.text-size-larger {
  font-size: 150%;
}

/* Reduced motion */
.reduce-motion * {
  @apply !transition-none !animate-none;
}

/* Mobile optimizations for touch targets */
@media (max-width: 768px) {
  button, a, input, select, textarea {
    @apply min-h-[44px] min-w-[44px]; /* Minimum 44x44px touch target */
  }
  
  /* Increase spacing between interactive elements */
  .mobile-touch-friendly button,
  .mobile-touch-friendly a {
    @apply my-1 mx-1;
  }
  
  /* Hide scrollbar but keep scrolling functionality */
  .hide-scrollbar {
    -ms-overflow-style: none;  /* IE and Edge */
    scrollbar-width: none;  /* Firefox */
  }
  
  .hide-scrollbar::-webkit-scrollbar {
    display: none; /* Chrome, Safari and Opera */
  }
  
  /* Ensure horizontal scrolling is smooth */
  .touch-pan-x {
    touch-action: pan-x;
  }
  
  /* Enhanced tap targets for interactive cards */
  .asset-item {
    @apply active:bg-gray-800 transition-colors;
    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
  }
  
  /* Bottom navigation spacing */
  .mobile-dashboard {
    padding-bottom: 70px; /* Make room for bottom nav */
  }
  
  /* Disable pull-to-refresh on iOS */
  .prevent-pull-refresh {
    overscroll-behavior-y: contain;
  }
  
  /* PWA update notification */
  .pwa-update-notification {
    position: fixed;
    bottom: 20px;
    left: 50%;
    transform: translateX(-50%);
    background-color: rgba(17, 24, 39, 0.95);
    border: 1px solid #8B5CF6;
    border-radius: 8px;
    padding: 12px 20px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
    z-index: 9999;
    max-width: 90%;
    width: 340px;
  }
  
  .pwa-update-content {
    display: flex;
    align-items: center;
    justify-content: space-between;
    color: white;
  }
  
  .pwa-update-content p {
    margin: 0;
    font-size: 14px;
  }
  
  #pwa-update-button {
    background-color: #8B5CF6;
    color: white;
    border: none;
    border-radius: 4px;
    padding: 6px 12px;
    font-size: 12px;
    cursor: pointer;
    margin-left: 16px;
  }
  
  #pwa-update-button:hover,
  #pwa-update-button:focus {
    background-color: #7C3AED;
  }
}