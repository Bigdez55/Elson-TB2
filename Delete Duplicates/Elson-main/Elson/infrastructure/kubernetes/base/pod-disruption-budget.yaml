apiVersion: policy/v1
kind: PodDisruptionBudget
metadata:
  name: elson-frontend-pdb
spec:
  minAvailable: 2  # Always keep at least 2 pods available
  selector:
    matchLabels:
      app: elson-frontend
---
apiVersion: policy/v1
kind: PodDisruptionBudget
metadata:
  name: elson-backend-pdb
spec:
  minAvailable: 3  # Always keep at least 3 backend pods available
  selector:
    matchLabels:
      app: elson-backend
---
apiVersion: policy/v1
kind: PodDisruptionBudget
metadata:
  name: elson-trading-engine-pdb
spec:
  maxUnavailable: 1  # Only allow 1 trading engine pod to be unavailable at a time
  selector:
    matchLabels:
      app: elson-trading-engine